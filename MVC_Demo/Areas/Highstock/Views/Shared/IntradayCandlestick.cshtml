@using Highsoft.Web.Mvc.Stocks

@*  The Highstock client-side javascript library is dependent on jQuery so you need to include 
    a reference to the jQuery library before referncing the highstock llibrary*@

    <script src="http://code.highcharts.com/stock/highstock.js"></script>
    <script src="https://code.highcharts.com/modules/exporting.js"></script>
    
    @(Html.Highsoft().Highstock(
        new Highstock
        {
            Title = new Title
            {
                Text = "AAPL stock price by minute"
            },
            Subtitle = new Subtitle
            {
                Text = "Using ordinal X axis"
            },
            //Navigator = new Navigator()
            //{

            //    Series = new CandleStickSeries()
            //    {
            //        Data = ViewBag.IntradayData as List<CandleStickSeriesData>
            //    }
            //},
            RangeSelector = new RangeSelector()
            {
                Buttons = new List<object>() { new { type = "hour", count = 1, text = "1h" }, new { type = "day", count = 1, text = "1D" }, new { type = "all", count = 1, text = "All" } },
                InputEnabled = false,
                Selected = 1
            },
            Series = new List<Series>
            {
                new CandleStickSeries
                {
                    Data = ViewBag.IntradayData as List<CandleStickSeriesData>,

                    Name = "AAPL",
                    Tooltip = new CandleStickSeriesTooltip
                    {
                        ValueDecimals = 2
                    },
                    TurboThreshold = 10000
                }
            }
        },
        "chart"
    ))