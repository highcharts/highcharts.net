@*You need to add a reference to jQuery prior to referencing the highcharts javascript file*@

<script src="http://code.highcharts.com/maps/highmaps.js"></script>

@* Additional chart types, such as "heatmap", are defined in the heatmap.js module *@

<!--<script src="http://code.highcharts.com/modules/heatmap.js"></script>-->

@using Highsoft.Web.Mvc.Maps

<script type="text/javascript">

    function formatTooltip() {
        return '<b>' + this.series.xAxis.categories[this.point.x] + '</b> sold <br><b>' +
                   this.point.value + '</b> items on <br><b>' + this.series.yAxis.categories[this.point.y] + '</b>';
    }

</script>

    @(Html.Highsoft().Highmaps(
        new Highmaps
        {

            Title = new Title
            {
                Text = "Habitat of the Rusty Blackbird"
            },
            Subtitle = new Subtitle { Text = "An Example of distribution map in Highmaps" },
            PlotOptions = new PlotOptions
            {
                Series = new PlotOptionsSeries
                {
                    Tooltip = new PlotOptionsSeriesTooltip
                    {
                        HeaderFormat = "",
                        PointFormat = "{series.name} area"
                    }
                },
                
            },
            
            Legend = new Legend
            {
                Align = LegendAlign.Left,
                BackgroundColor = "rgba(255, 255, 255, 0.85)",
                Floating = true,
                Layout = LegendLayout.Vertical,
                VerticalAlign = LegendVerticalAlign.Bottom,
                Reversed = true
            },
            
            Series = new List<Series>
            {
                new MapSeries
                {
                    Name = "Areas",
                    Data = @ViewData["mapData1"] as List<MapSeriesData>,
                    ShowInLegend = false
                },
            }
        }
        , "map")//"chart"
    )