@*You need to add a reference to jQuery prior to referencing the highcharts javascript file*@

<script src="http://code.highcharts.com/maps/highmaps.js"></script>

@* Additional chart types, such as "heatmap", are defined in the heatmap.js module *@

<!--<script src="http://code.highcharts.com/modules/heatmap.js"></script>-->

@using Highsoft.Web.Mvc.Maps

<script type="text/javascript">

    function formatTooltip() {
        return '<b>' + this.series.xAxis.categories[this.point.x] + '</b> sold <br><b>' +
                   this.point.value + '</b> items on <br><b>' + this.series.yAxis.categories[this.point.y] + '</b>';
    }

</script>

    @(Html.Highsoft().Highmaps(
        new Highmaps
        {
            Chart = new Chart
            {
                PlotBorderWidth = 1,
                PlotBackgroundColor = "#f4e2ba",
            },
            Title = new Title
            {
                Text = "Drainage basin of the Meuse river"
            },
            XAxis = new List<XAxis>
            {
                new XAxis
                {
                    MinPadding = -0.01
                }
            },
            YAxis = new List<YAxis>
            {
                new YAxis
                {
                   MinPadding = -0.01,
                   MaxPadding = 0.01
                }
            },




            Legend = new Legend
            {
                Align = LegendAlign.Left,
                BackgroundColor = "white",
                Floating = true,
                Layout = LegendLayout.Vertical,
                VerticalAlign = LegendVerticalAlign.Bottom,
                X = 50,
                Y = -50
            },
            Tooltip = new Tooltip
            {
                HeaderFormat = "",
                PointFormat = "{point.name}"
            },
            //ColorAxis = new ColorAxis
            //{
            //    Min = 0,
            //    MinColor = "#FFFFFF",
            //    MaxColor = "#7cb5ec"
            //},
            Series = new List<Series>
            {
                new MapSeries
                {
                    Name = "Areas",
                    Data = @ViewData["mapData1"] as List<MapSeriesData>,
                    ShowInLegend = false
                },
                new MapSeries
                {
                    Name = "Basin",
                    Data = @ViewData["mapData2"] as List<MapSeriesData>,
                    BorderColor = "#c86400",
                    BorderWidth = 3
                }

            }
        }
        , "map")//"chart"
    )