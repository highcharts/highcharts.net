<script src="http://code.highcharts.com/highcharts.js"></script>

@*The highchart-more.js file contains definitions for additional chart types not available
    in the main highcharts.js file such as "arearange". You need to include this file if you
    are using these types of charts*@

<script src="http://code.highcharts.com/highcharts-more.js"></script>
<script src="https://code.highcharts.com/modules/exporting.js"></script>

@using Highsoft.Web.Mvc.Charts
@using Highsoft.Web.Mvc.Charts.Rendering

<script type="text/javascript">

    function formatDataLabels() {
        return this.y + '°C';
    }

</script>

@{ var chartOptions = new Highcharts
    {
        Chart = new Highsoft.Web.Mvc.Charts.Chart
        {
            Inverted = true
        },
        Title = new Title
        {
            Text = "Temperature variation by month"
        },
        Subtitle = new Subtitle
        {
            Text = "Observed in Vik i Sogn, Norway, 2009"
        },

        XAxis = new List<XAxis>
    {
                new XAxis
                {
                    Categories = new List<string> {
                        "Jan",
                        "Feb",
                        "Mar",
                        "Apr",
                        "May",
                        "Jun",
                        "Jul",
                        "Aug",
                        "Sep",
                        "Oct",
                        "Nov",
                        "Dec"
                    }
                }
            },
        YAxis = new List<YAxis>
    {
                new YAxis
                {
                    Title = new YAxisTitle
                    {
                        Text = "Temperature ( °C )"
                    }
                }
            },
        Tooltip = new Tooltip
        {
            ValueSuffix = "°C"
        },
        PlotOptions = new PlotOptions
        {
            Columnrange = new PlotOptionsColumnrange
            {
                DataLabels = new PlotOptionsColumnrangeDataLabels 
                {
                    Enabled = true,
                    Formatter = "formatDataLabels"
                }
            }
        },
        Legend = new Legend
        {
            Enabled = true
        },
        Series = new List<Series>
    {
                new ColumnrangeSeries
                {
                    Name = "Temperatures",
                    Data = @ViewData["temperatureData"] as List<ColumnrangeSeriesData>
                }
            }
    };

    chartOptions.ID = "chart";
    var renderer = new HighchartsRenderer(chartOptions);
}

@Html.Raw(renderer.RenderHtml())