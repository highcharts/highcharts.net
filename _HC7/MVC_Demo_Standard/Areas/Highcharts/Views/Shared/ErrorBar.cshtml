<script src="https://code.highcharts.com/highcharts.js"></script>
<script src="https://code.highcharts.com/modules/exporting.js"></script>


@*The highchart-more.js file contains definitions for additional chart types not available
    in the main highcharts.js file such as "arearange". You need to include this file if you
    are using these types of charts*@

<script src="https://code.highcharts.com/highcharts-more.js"></script>


@using Highsoft.Web.Mvc.Charts
@using Highsoft.Web.Mvc.Charts.Rendering
@using System.Collections.Specialized
@using System.Collections

@{ var chartOptions =
     new Highcharts
     {
         Chart = new Highsoft.Web.Mvc.Charts.Chart
         {
             ZoomType = ChartZoomType.Xy
         },
         Title = new Title
         {
             Text = "Temperature vs Rainfall"
         },
         XAxis = new List<XAxis>
         {

                new XAxis
                    {
                        Categories = new List<string> { "Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec" }
                }
                     },

         YAxis = new List<YAxis>
                 {
                    new YAxis
                {
                    Title = new YAxisTitle
                    {
                        Text = "Temperature",
                        Style = new YAxisTitleStyle()
                        {
                            Color = "#434348"
                        }
                    },
                    Labels = new YAxisLabels
                    {
                        Format = "{value} °C",
                        Style = new YAxisLabelsStyle
                        {
                            Color = "#434348"
                    }
                }
                    },
                new YAxis
                {
                    Id = "Rainfall",
                    Opposite = true,
                    Title = new YAxisTitle
                    {
                        Text = "Rainfall",
                    Style = new YAxisTitleStyle()
                    {
                            Color = "#7cb5ec"
                    }
                    },
                    Labels = new YAxisLabels
                    {
                        Format = "{value} mm",
                        Style = new YAxisLabelsStyle()
                        {
                            Color = "#7cb5ec"
                        }
                    }

                }
                     },
         Tooltip = new Tooltip
         {
             Shared = true
         },
         Series = new List<Series>
         {
            new ColumnSeries
            {
                Name = "Rainfall",
                YAxis = "Rainfall",
                    Tooltip = new ColumnSeriesTooltip
                    {
                        PointFormat = "<span style='font-weight: bold; color: {series.color}'>{series.name}</span>: <b>{point.y:.1f} mm</b> "
                    },
                    Data = ViewData["rainfallData"] as  List<ColumnSeriesData>
                },
                new ErrorbarSeries
            {
                Name = "Rainfall Erorr",
                YAxis = "Rainfall",
                Data = ViewData["rainfallErrorData"] as List<ErrorbarSeriesData>
            },
                new SplineSeries
                {
                    Name = "Temperature",
                    Tooltip = new SplineSeriesTooltip
                    {
                        PointFormat = "<span style='font-weight: bold; color: {series.color}'>{series.name}</span>: <b>{point.y:.1f}°C</b> "
                    },
                    Data = ViewData["temperatureData"] as List<SplineSeriesData>
                },
                new ErrorbarSeries
                {
                    Name = "Temperature Erorr",
                    Tooltip = new ErrorbarSeriesTooltip
                    {
                        PointFormat = "(error range: {point.low}-{point.high}°C)<br/>"
                    },
                    Data = ViewData["temperatureErrorData"] as List<ErrorbarSeriesData>
            }
                 }
     };


    chartOptions.ID = "chart";
    var renderer = new HighchartsRenderer(chartOptions);
}

@Html.Raw(renderer.RenderHtml())