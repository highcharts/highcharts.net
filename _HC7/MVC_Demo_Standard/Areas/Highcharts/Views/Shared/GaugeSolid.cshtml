<script src="https://code.highcharts.com/highcharts.js"></script>

@* Additional chart types, such as "gauge", are defined in the highcharts-more.js module *@

<script src="https://code.highcharts.com/highcharts-more.js"></script>

@* Additional chart types, such as "gauge", are defined in the highcharts-more.js module *@

<script src="https://code.highcharts.com/modules/solid-gauge.js"></script>
<script src="https://code.highcharts.com/modules/exporting.js"></script>


@using Highsoft.Web.Mvc.Charts
@using Highsoft.Web.Mvc.Charts.Rendering

<script type="text/javascript">

    function loadData() {
        setInterval(function () {
            // Speed
            var chart = $("#chartspeed").highcharts(),
                point,
                newVal,
                inc;

            if (chart) {
                point = chart.series[0].points[0];
                inc = Math.round((Math.random() - 0.5) * 100);
                newVal = point.y + inc;

                if (newVal < 0 || newVal > 200) {
                    newVal = point.y - inc;
                }

                point.update(newVal);
            }

            chart = $('#chartrpm').highcharts();
            if (chart) {
                point = chart.series[0].points[0];
                inc = Math.random() - 0.5;
                newVal = point.y + inc;

                if (newVal < 0 || newVal > 5) {
                    newVal = point.y - inc;
                }

                point.update(newVal);
            }
        }, 2000);
    }


</script>

<table>
    <tr>
        <td>
            @{ var chartOptions =
             new Highcharts
             {
                 Chart = new Highsoft.Web.Mvc.Charts.Chart
                 {
                     Width = 300,
                     Height = 200,
                     Events = new ChartEvents
                     {
                         Load = "loadData"
                     }
                 },
                 Title = new Title
                 {
                     Text = null
                 },
                 Pane = new Pane
                 {
                     Center = new string[] { "50%", "85%" },
                     Size = "140%",
                     StartAngle = -90,
                     EndAngle = 90,
                     Background = new List<PaneBackground>
                     {
                    new PaneBackground
                    {
                         //BackgroundColor = new
                         //{
                         //    //linearGradient = new { x1 = 0, y1 = 0, x2 = 0, y2 = 1 },
                             
                         //    stops = new List<Stop>()
                         //            {
                         //        new Stop { Position = 0, Color = "#FFF" },
                         //        new Stop { Position = 1, Color = "#333" }
                         //    }
                         //},
                         InnerRadius = "60%",
                         OuterRadius = "100%",
                         Shape = "arc"
                    }
             }
                 },
                 YAxis = new List<YAxis>
                 {
                new YAxis
                {
                    Stops = new List<Stop>
                            {
                        new Stop { Position = 0.1, Color = "#55BF3B" },
                        new Stop { Position = 0.5, Color = "#DDDF0D" },
                        new Stop { Position = 0.9, Color = "#DF5353" }
                    },
                    LineWidth = 1,
                    MinorTickInterval = null,
                    TickPixelInterval = 400,
                    TickWidth = 0,
                    Labels = new YAxisLabels
                    {
                        Y = 16
                    }
                }
         },
                 Tooltip = new Tooltip
                 {
                     Enabled = false
                 },
                 PlotOptions = new PlotOptions
                 {
                     Solidgauge = new PlotOptionsSolidgauge
                     {
                         DataLabels = new PlotOptionsSolidgaugeDataLabels
                         {
                             Y = 5,
                             BorderWidth = 0
                             ,
                             UseHTML = true
                         }
                     }
                 },
                 Series = new List<Series>()
                 { new SolidgaugeSeries()
                {
                Name = "Speed",
                Data = new List<SolidgaugeSeriesData>
                            {
                        new SolidgaugeSeriesData { Y = 80 }
                    },
                DataLabels = new SolidgaugeSeriesDataLabels
                {
                    Format = "<div style='text-align:center'><span style='font-size:25px;color:black'>{y}</span><br/><span style='font-size:12px;color:silver'>km/h</span></div>"
                },
                Tooltip = new SolidgaugeSeriesTooltip
                {
                    ValueSuffix = " km/h"
                }
            }
     }
             };

                chartOptions.ID = "chartspeed";
                var renderer = new HighchartsRenderer(chartOptions);
            }

            @Html.Raw(renderer.RenderHtml())

        </td>
        <td>
            @{ var chartOptions2 =
new Highcharts
{
     Chart = new Highsoft.Web.Mvc.Charts.Chart
     {
         Width = 300,
         Height = 200,
         Events = new ChartEvents
         {
             Load = "loadData"
         }
     },
     Title = new Title
     {
         Text = null
     },
     Pane = new Pane
     {
         Center = new string[] { "50%", "85%" },
         Size = "140%",
         StartAngle = -90,
         EndAngle = 90,
         Background = new List<PaneBackground>
          {
                    new PaneBackground
                    {
                         BackgroundColor = new 
                         {
                             stops = new List<Stop>()
                                     {
                                 new Stop()
                                 {
                                     Position = 0,
                                     Color = "#EEE"
                                 }
                            }
                         },
                         InnerRadius = "60%",
                         OuterRadius = "100%",
                         Shape = "arc"
                    }
          }
     },
     YAxis = new List<YAxis>
              {
                new YAxis
                {
                    Stops = new List<Stop>
                            {
                        new Stop { Position = 0.1, Color = "#55BF3B" },
                        new Stop { Position = 0.5, Color = "#DDDF0D" },
                        new Stop { Position = 0.9, Color = "#DF5353" }
                    },
                    Min = 0,
                    Max = 5,
                    Title = new YAxisTitle
                    {
                        Text = "RPM"
                    },
                    LineWidth = 1,
                    MinorTickInterval = null,
                    TickPixelInterval = 400,
                    TickWidth = 0,
                    Labels = new YAxisLabels
                    {
                        Y = 16
                    }
                }
      },
     Tooltip = new Tooltip
     {
         Enabled = false
     },
     PlotOptions = new PlotOptions
     {
         Solidgauge = new PlotOptionsSolidgauge
         {
             DataLabels = new PlotOptionsSolidgaugeDataLabels
             {
                 Y = 5,
                 BorderWidth = 0,
                 UseHTML = true
             }
         }
     },
     Series = new List<Series>
              {
                new SolidgaugeSeries
                {
                    Name = "RPM",
                    Data = new List<SolidgaugeSeriesData>
                            {
                        new SolidgaugeSeriesData { Y = 1 }
                    },
                    DataLabels = new SolidgaugeSeriesDataLabels
                    {
                        Format = "<div style='text-align:center'><span style='font-size:25px;color:black'>{y:.1f}</span><br/><span style='font-size:12px;color:silver'>* 1000 / min</span></div>"
                    },
                    Tooltip = new SolidgaugeSeriesTooltip
                    {
                        ValueSuffix = " revolutions/min"
                    }
                }
      }
};

                chartOptions.ID = "chartrpm";
                var renderer2 = new HighchartsRenderer(chartOptions);
            }

            @Html.Raw(renderer2.RenderHtml())
        </td>
    </tr>

</table>

