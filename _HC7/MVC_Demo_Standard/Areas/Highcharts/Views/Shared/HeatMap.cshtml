<script src="http://code.highcharts.com/highcharts.js"></script>

@* Additional chart types, such as "heatmap", are defined in the heatmap.js module *@

<script src="http://code.highcharts.com/modules/heatmap.js"></script>
<script src="https://code.highcharts.com/modules/exporting.js"></script>

@using Highsoft.Web.Mvc.Charts
@using Highsoft.Web.Mvc.Charts.Rendering

<script type="text/javascript">

    function formatTooltip() {
        return '<b>' + this.series.xAxis.categories[this.point.x] + '</b> sold <br><b>' +
                   this.point.value + '</b> items on <br><b>' + this.series.yAxis.categories[this.point.y] + '</b>';
    }

</script>

@{var chartOptions = new Highcharts
        {
            Chart = new Highsoft.Web.Mvc.Charts.Chart
            {
                MarginTop = 40,
                MarginBottom = 80
            },
            Title = new Title
            {
                Text = "Sales per employee per weekday"
            },
            XAxis = new List<XAxis>
            {            
                new XAxis
                {
                    Categories = new List<string> { "Alexander", "Marie", "Maximilian", "Sophia", "Lukas", "Maria", "Leon", "Anna", "Tim", "Laura" }
                }
            },
            YAxis = new List<YAxis>
            {
                new YAxis
                {                   
                    Categories = new List<string> { "Monday", "Tuesday", "Wednesday", "Thursday", "Friday" }                    
                }
            },
            
            Legend = new Legend
            {
                Layout = LegendLayout.Vertical,
                Align = LegendAlign.Right,                
                VerticalAlign = LegendVerticalAlign.Top,
                Y = 25,
                SymbolHeight = 280
            },
            Tooltip = new Tooltip
            {
                Formatter = "formatTooltip"
            },
            ColorAxis = new ColorAxis
            {
                Min = 0,
                MinColor = "#FFFFFF",
                MaxColor = "#7cb5ec"  
            },
            Series = new List<Series>
            {                    
                new HeatmapSeries
                {
                    Name = "Sales per employee",
                    BorderWidth = 2,
                    DataLabels = new HeatmapSeriesDataLabels
                    {
                        Enabled = true,
                        Color = "#000000",
                        
                    },
                    Data = @ViewData["heatMapData"] as List<HeatmapSeriesData>
                }
            }
        };

    chartOptions.ID = "chart";
    var renderer = new HighchartsRenderer(chartOptions);
}

@Html.Raw(renderer.RenderHtml())