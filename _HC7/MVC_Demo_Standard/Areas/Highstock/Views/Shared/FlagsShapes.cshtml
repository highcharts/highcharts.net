@using Highsoft.Web.Mvc.Stocks
@using Highsoft.Web.Mvc.Stocks.Rendering

<script src="http://code.highcharts.com/stock/highstock.js"></script>
<script src="https://code.highcharts.com/modules/exporting.js"></script>

@{ var chartOptions =
      new Highstock
      {
          RangeSelector = new RangeSelector
          {
              Selected = 0
          },
          Title = new Title
          {
              Text = "USD to EUR exchange rate"
          },
          Tooltip = new Tooltip
          {
              ValueDecimals = 4,
              Shared = true
          },
          YAxis = new List<YAxis>
              {
                new YAxis
                {
                    Title = new YAxisTitle
                    {
                        Text = "Exchange rate"
                    }
                }
                              },
          Series = new List<Series>
              {
                new LineSeries
                {
                    Data = ViewBag.CurrencyData as List<LineSeriesData>,
                    Name = "USD to EUR",
                    Id = "currency",
                    Tooltip = new LineSeriesTooltip
                    {
                        ValueDecimals = 2
                    }
                },
                new FlagsSeries
                {
                    Data = ViewBag.AData as List<FlagsSeriesData>,
                    Name = "Flags on Series",
                    OnSeries = "currency",
                    Shape = "squarepin"
                },
                new FlagsSeries
                {
                    Data = ViewBag.BData as List<FlagsSeriesData>,
                    Name = "Flags on Series 2",
                    OnSeries = "currency",
                    Color = "#7cb5ec",
                    Shape = "circlepin"
                },
                new FlagsSeries
                {
                    Data = ViewBag.CData as List<FlagsSeriesData>,
                    Name = "Flags on Series 3",
                    Shape = "flag"
                }
                              },
          PlotOptions = new PlotOptions
          {
              Series = new PlotOptionsSeries
              {
                  TurboThreshold = 5000
              }
          }

      };

    chartOptions.ID = "chart";
    var renderer = new HighstockRenderer(chartOptions);
}

@Html.Raw(renderer.RenderHtml());